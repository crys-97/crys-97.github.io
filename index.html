<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Toronto Cupcake Checkout</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="Checkout.css">
	<script src="https://kit.fontawesome.com/5f673fb283.js" crossorigin="anonymous"></script>
</head>
<body>

	<!-- Back button -->
	<div id="back-button">
		<i class="fa-solid fa-arrow-left"></i>
		<a href>Back</a>
	</div>

	<!-- Breadcrumbs -->
	<div id="breadcrumbs">
		<a href="">Home</a>
		<i class="fa-solid fa-chevron-right"></i>
		<a href="">Menu</a>
		<i class="fa-solid fa-chevron-right"></i>
		<a href="">Cart</a>
		<i class="fa-solid fa-chevron-right"></i>
		<a href="">Checkout</a>
		<i class="fa-solid fa-chevron-right"></i>
	</div>

	<!-- Whole Section -->
	<div class="container">
		<div id="leftsection">
			<!-- (Left Section) -->
			<div class="cardtitle">Checkout</div>
			
			<!-- Checkout -->
			<div id="checkout"> 


				<!-- Delivery -->	
				<div class="t2">Delivery</div>
				<div class="linebox"></div>
				<div class="form">
					<p>Receiver's Name</p>
					<input type="text" id="name" placeholder="Eg. Jack Holmes">
				</div>
				<div class="form">
					<p>Receiver's Number</p>
					<input type="text" id="number" placeholder="Eg. +1 647 283 8470" maxlength="15">
				</div>
				<div class="form">
					<p>Email for order tracking purposes</p>
					<input type="email" id="email" placeholder="Eg. abc@xyz.com">
				</div>

				<!-- Delivery details -->
				<div class="t2">Delivery details</div>
				<div class="linebox"></div>
				<div class="form">
					<p>Address Line 1</p>
					<input type="text" id="add1" placeholder="Eg. 21 Nature valley, Etobicoke, Ontario">
				</div>
				<div class="form">
					<p>Address Line 2 (Optional)</p>
					<input type="text" id="add2" placeholder="Eg. 21 Nature valley, Etobicoke, Ontario">
				</div>
				<div class="form">
					<p>Postal Code</p>
					<input type="text" id="pcode" placeholder="Eg. N67 V9B">
				</div>

				<!-- Payment Method -->
				<div class="t2">Select Payment Method</div>
				<div class="linebox"></div>
				<div class="form"> 
					<div id="payment-method">
						<div class="i-t-b">
							<div class="icons-text">
								<div class="icons">
									<img src="visa.svg" alt="">
									<img src="mcard.svg" alt="">
								</div>
								<p>Credit card / Debit card</p>
							</div>
							<div class="radio">
								<input type="radio" name="payment" value="credit-card">
							</div>							
						</div>
						<div class="i-t-b">
							<div class="icons-text">
								<div class="icons">
									<img src="apay.svg" alt="">
								</div>
								<p>Apple Pay</p>
							</div>
							<div class="radio">
								<input type="radio" name="payment" value="apple-pay">
							</div>							
						</div>
						<div class="i-t-b">
							<div class="icons-text">
								<div class="icons">
									<img src="gpay.svg" alt="">
								</div>
								<p>Google Pay</p>
							</div>
							<div class="radio">
								<input type="radio" name="payment" value="google-pay">
							</div>							
						</div>
					</div>
				</div>
			</div>
		</div>



		<!-- (Right Section) -->
		<div id="rightsection">

			<!-- Order Details -->
			<div class="cardtitle">Order Details</div>
			<div id="orderdetails"> 
				<div id="cupcakecheckout" >
					<img src="cupcakecheckout.svg" alt=""> 
				</div>
				<div class="info">
					<div id="info1">
						<p>Chocolate Cupcake</p>
						<h5>$3.50</h5>
					</div>
					<div id="info2">
						Vanilla Frosting<br>
						No cultery
					</div>
				</div>
				<div class="info">x1</div>
			</div>

			<!-- Bill Summary -->
			<div class="cardtitle">Bill Summary</div>
			<div id="billsummary"> 
				<div class="text-prices">
					<p>Item Total</p>
					<h5>$4.00</h5>
				</div>
				<div class="text-prices">
					<p>HST</p>
					<h5>$0.52</h5>
				</div>
				<div class="text-prices">
					<p>Platform fee</p>
					<h5>$0.80</h5>
				</div>
				<div class="text-prices">
					<p>Delivery fee</p>
					<h5>$1.00</h5>
				</div>
				<div class="linebox"></div>
				<div class="text-prices">
					<p>Total</p>
					<h5>$6.32</h5>
				</div>
			</div>


			<!-- Make Payment Button -->
			<div id="payment">
				<input type="button" value="Make Payment" id="paybutton">
			</div>
			
		</div>
	</div>

<script>
        const nameInput = document.getElementById("name");
        const numberInput = document.getElementById("number");
        const emailInput = document.getElementById("email");
        const add1Input = document.getElementById("add1");
        const add2Input = document.getElementById("add2");
        const pcodeInput = document.getElementById("pcode");
        const errorMessage = document.getElementById('errorMessage');

 numberInput.addEventListener("click", addCountryCode);
numberInput.addEventListener("blur", validateAndFormatPhoneNumber);

function addCountryCode() {
    if (!numberInput.value.startsWith("(+1) - ")) {
        numberInput.value = "(+1) - ";
    }
}

function validateAndFormatPhoneNumber() {
    // Initialize an empty phoneNumber variable
    let digitsOnly = "";

    // Extract digits only from the input
    for (let char of numberInput.value) {
        if (char >= '0' && char <= '9') {
            digitsOnly += char;
        }
    }

    // Check if we have exactly 10 digits after the country code
    if (digitsOnly.length === 10) {
        // Format the number as "(+1) - XXX - XXX- XXXX"
        const formattedNumber = "(+1) - " + digitsOnly.substring(0, 3) + " - " + digitsOnly.substring(3, 6) + "- " + digitsOnly.substring(17);
        numberInput.value = formattedNumber;

        // Remove error state
        numberInput.classList.remove("error");
        errorMessage.style.display = 'none';
    } else {
        // Add error state if the number is not valid
        numberInput.classList.add("error");
        errorMessage.style.display = 'block';
    }
}




        // Error Red //
        nameInput.addEventListener("blur", validateInput);
        numberInput.addEventListener("blur", validateInput);
        emailInput.addEventListener("blur", validateInput);
        add1Input.addEventListener("blur", validateInput);
        add2Input.addEventListener("blur", validateInput);
        pcodeInput.addEventListener("blur", validateInput);

        function validateInput() {
            if (this.value.trim() === "") {
                this.style.borderColor = "red";
            } else {
                this.style.borderColor = "";
            }
        }

        // Hover paybutton //
        const payButton = document.getElementById("paybutton");

        payButton.addEventListener("mouseover", whileHover); 
        payButton.addEventListener("mouseout", normalHover); 
        
        function whileHover() {
            payButton.style.cursor = "pointer"; 
            payButton.style.backgroundColor = "#212121"; 
        }
        
        function normalHover() {
            payButton.style.backgroundColor = "#f7d48c";
        }
    </script>


</script>
</body>
</html>
